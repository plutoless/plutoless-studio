<?php
session_start();

$this->headTitle($this->title);
$this->headLink()->prependStylesheet($this->baseUrl().'/public/css/index.css');
$this->headScript()->appendFile($this->baseUrl().'/public/js/index.js');

$keys = array(
    /* key board construct array */
    array("id"=>"tab", "keycode"=>"9", "keysize"=>"tab", "alias"=>"Tab"),
    array("id"=>"Q", "keycode"=>"81"), 
    array("id"=>"W", "keycode"=>"87"), 
    array("id"=>"E", "keycode"=>"69"), 
    array("id"=>"R", "keycode"=>"82"),
    array("id"=>"T", "keycode"=>"84"),
    array("id"=>"Y", "keycode"=>"89"),
    array("id"=>"U", "keycode"=>"85"),
    array("id"=>"I", "keycode"=>"73"),
    array("id"=>"O", "keycode"=>"79"),
    array("id"=>"P", "keycode"=>"80"),
    array("id"=>"backspace", "keycode"=>"8", "keysize"=>"backspace", "alias"=>"BS"),
    
    array("id"=>"caps", "keycode"=>"20", "keysize"=>"caps", "alias"=>"Caps"),
    array("id"=>"A", "keycode"=>"65"), 
    array("id"=>"S", "keycode"=>"83"), 
    array("id"=>"D", "keycode"=>"68"), 
    array("id"=>"F", "keycode"=>"70"),
    array("id"=>"G", "keycode"=>"71"),
    array("id"=>"H", "keycode"=>"72"),
    array("id"=>"J", "keycode"=>"74"),
    array("id"=>"K", "keycode"=>"75"),
    array("id"=>"L", "keycode"=>"76"),
    array("id"=>"enter", "keycode"=>"13", "keysize"=>"enter", "alias"=>"Enter"),
    
    array("id"=>"shift-left", "keycode"=>"16", "keysize"=>"shift-left", "alias"=>"Shift"),
    array("id"=>"Z", "keycode"=>"90"), 
    array("id"=>"X", "keycode"=>"88"), 
    array("id"=>"C", "keycode"=>"67"), 
    array("id"=>"V", "keycode"=>"86"),
    array("id"=>"B", "keycode"=>"66"),
    array("id"=>"N", "keycode"=>"78"),
    array("id"=>"M", "keycode"=>"77"),
    array("id"=>"left-arrow", "keycode"=>"37", "alias"=>"<"),
    array("id"=>"right-arrow", "keycode"=>"39", "alias"=>">"),
    array("id"=>"shift-right", "keycode"=>"16", "keysize"=>"shift-right", "alias"=>"Shift"),
    
    array("id"=>"ctrl", "keycode"=>"17", "keysize"=>"control", "alias"=>"Ctrl"),
    array("id"=>"option", "keycode"=>"18", "keysize"=>"option", "alias"=>"Option"),
    array("id"=>"command", "keycode"=>"31", "keysize"=>"command", "alias"=>"Cmd"),
    array("id"=>"space", "keycode"=>"32", "keysize"=>"space", "alias"=>"Space"), 
    array("id"=>"message", "keycode"=>"17", "keysize"=>"message", "alias"=>"Message"),
);

$news = array(
    "13/04/2013 The website support mouse input now.",
    "07/04/2013 Index page Msg Box on live.Input not allowed for now.",
    "05/04/2013 Dev Updates available on live.",
    "04/04/2013 Project page on live.",
    "24/03/2013 Post page on live.",
    "03/02/2013 Plutoless-Studio on live."
    );
?>

<script>
    var randTip = "<?php echo $this->rand;?>";
    var newsList = [
        <?php
            echo '"'.$news[0].'"';
            $newsLength = sizeof($news);
            for($i=1; $i<$newsLength; $i++)
            {
                echo ',"'.$news[$i].'"';
            }
        ?>
    ];
</script>
<div id="content">
    <div id="index-wrap">
        
        <div class="screen">
            
            <div class="screen-index">
                <div class="screen-index-inner">
                </div>
                <div class="screen-index-tips">
                    <div class="avatar-wrap">
                        <img src="<?php echo $this->baseUrl()
                                .'/public/images/tips/tips_'
                                .$this->rand.'.jpg'; ?>">
                        <div class="msg-box-wrap">
                            <div class="msg-box rounded">
                                <span class="text">test message</span>
                            </div>
                            <div class="msg-box-tri"></div>
                        </div>
                    </div>
                    <div style="margin-top:-10px;">
                        Press Any Key<br>
                        <ul class="news">
                            <li class="news-area">
                              <?php echo $news[0];?>
                            </li>
                            <li class="news-buf">
                              <?php echo $news[1];?>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="screen-logo">
                    <img src="<?php echo $this->baseUrl().'/public/images/logo.png'; ?>" />
                </div>
            </div>
            <div class="screen-index-back">
                <ul class="screen-back-widgets">
                    
                    <li class="calendar-wrap">
                        <div class="time">
                            <?php echo $this->currentTime;?>
                        </div>
                        <div class="weekday">
                            <?php echo $this->currentWeekday;?>
                        </div>
                        <div class="month">
                            <?php echo $this->currentMonth;?>
                        </div>
                    </li>
                    <!-- Everything beyond this layer goes after -->
                    <li class="bg-wrap a">
                    </li>
                    <li class="battery-wrap">
                        <div class="battery">
                            <div class="b-body">
                                <div class="b-life"></div>
                            </div>
                            <div class="b-head">
                            </div>
                        </div>
                    </li>
                    <li class="input-wrap">
                        <ul>
                        </ul>
                    </li>
                    <li class="subpage-wrap">
                        
                    </li>
                </ul>
            </div>
            <div class="screen-index-float">
                <ul class="screen-front-widgets">
                    <li class="menu-wrap">
                    </li>
                    <li class="subpage-wrap">
                        
                    </li>
                </ul>
            </div>
        </div>
        <div class="key-board">       
            <ul>
                <?php foreach($keys AS $key): ?>
                <li id="key-<?php echo $key['id'];?>"
                    class="key-element-wrapper key-size-<?php echo isset($key['keysize'])?$key['keysize']:"normal"; ?>">
                    <div class="key-element">
                        <div class="key-element-content"
                            name="<?php echo $key['id'];?>"
                            data-keycode="<?php echo $key['keycode'];?>">
                            <?php echo isset($key['alias'])?$key['alias']:$key['id'];?>
                        </div>
                    </div>
                </li>
                <?php endforeach;?>
            </ul>
        </div>
    </div>
</div>
<div id="key-hint-wrap">
    
</div>

<div id="dialogs-wrap">
    
</div>